<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.miracle.extra.mapper.MaterialInfoMapper">

    <resultMap type="MaterialInfo" id="MaterialInfoResult">
        <result property="materialId"    column="MATERIAL_ID"    />
        <result property="materialNum"    column="MATERIAL_NUM"    />
        <result property="materialName"    column="MATERIAL_NAME"    />
        <result property="useOrg"    column="USE_ORG"    />
        <result property="materialDesc"    column="MATERIAL_DESC"    />
        <result property="materialSpecification"    column="MATERIAL_SPECIFICATION"    />
        <result property="materialType"    column="MATERIAL_TYPE"    />
        <result property="materialSyb"    column="MATERIAL_SYB"    />
        <result property="materialHy"    column="MATERIAL_HY"    />
        <result property="materialProperty"    column="MATERIAL_PROPERTY"    />
        <result property="materialGroup"    column="MATERIAL_GROUP"    />
        <result property="materialInventoryType"    column="MATERIAL_INVENTORY_TYPE"    />
        <result property="materialUnit"    column="MATERIAL_UNIT"    />
        <result property="dataStatus"    column="DATA_STATUS"    />
        <result property="forbiddenStatus"    column="FORBIDDEN_STATUS"    />
    </resultMap>

    <sql id="selectMaterialInfoVo">
        select * from SANCO.REPORT_MATERIAL
    </sql>

    <select id="selectMaterialInfoList" parameterType="MaterialInfo" resultMap="MaterialInfoResult">
        <include refid="selectMaterialInfoVo"/>
        <where>
            <if test="materialNum != null  and materialNum.trim().length() > 0"> and MATERIAL_NUM like concat('%', #{materialNum}, '%')</if>
            <if test="materialName != null  and materialName.trim().length() > 0"> and MATERIAL_NAME like concat('%', #{materialName}, '%')</if>
            <if test="useOrg != null  and useOrg.trim().length() > 0"> and USE_ORG = #{useOrg}</if>
            <if test="materialDesc != null  and materialDesc.trim().length() > 0"> and MATERIAL_DESC like concat('%', #{materialDesc}, '%')</if>
            <if test="materialSpecification != null  and materialSpecification.trim().length() > 0"> and MATERIAL_SPECIFICATION like concat('%', #{materialSpecification}, '%')</if>
            <if test="materialType != null  and materialType.trim().length() > 0"> and MATERIAL_TYPE like concat('%', #{materialType}, '%')</if>
            <if test="materialSyb != null  and materialSyb.trim().length() > 0"> and MATERIAL_SYB like concat('%', #{materialSyb}, '%')</if>
            <if test="materialHy != null  and materialHy.trim().length() > 0"> and MATERIAL_HY like concat('%', #{materialHy}, '%')</if>
            <if test="materialProperty != null  and materialProperty.trim().length() > 0"> and MATERIAL_PROPERTY like concat('%', #{materialProperty}, '%')</if>
            <if test="materialGroup != null  and materialGroup.trim().length() > 0"> and MATERIAL_GROUP like concat('%', #{materialGroup}, '%')</if>
            <if test="materialInventoryType != null  and materialInventoryType.trim().length() > 0"> and MATERIAL_INVENTORY_TYPE like concat('%', #{materialInventoryType}, '%')</if>
            <if test="materialUnit != null  and materialUnit.trim().length() > 0"> and MATERIAL_UNIT like concat('%', #{materialUnit}, '%')</if>
            <if test="dataStatus != null  and dataStatus != ''"> and DATA_STATUS = #{dataStatus}</if>
            <if test="forbiddenStatus != null  and forbiddenStatus != ''"> and FORBIDDEN_STATUS = #{forbiddenStatus}</if>
        </where>
    </select>

    <select id="selectMaterialInfoByMaterialId" parameterType="String" resultMap="MaterialInfoResult">
        <include refid="selectMaterialInfoVo"/>
        where MATERIAL_ID = #{materialId}
    </select>

    <select id="selectMaterialInfoListByMaterialCodeCount" parameterType="String" resultType="java.lang.Integer">
        select count(*) from SANCO.REPORT_MATERIAL
        where MATERIAL_NUM = #{materialNum}
    </select>

    <select id="selectMaterialInfoListByIds" resultMap="MaterialInfoResult">
        <include refid="selectMaterialInfoVo"/>
        where MATERIAL_ID in
        <foreach item="id" collection="ids" separator="," open="(" close=")" index="index">
            #{id}
        </foreach>
    </select>


</mapper>